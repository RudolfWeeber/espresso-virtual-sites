What's new, what's been changed, what's been fixed
--------------------------------------------------

***********
* v1.5.7c *
***********

Current working revision.


- v1.5.7c -
-----------

(c) March 29th, 2004.
(b) March 22nd, 2004.
(a) March 21st, 2004.

Changes:
(b) Setting 'setmd piston 0.0' now disables the nptiso-thermostat
    (if compiled in), otherwise it does no longer complain about
    that (essentially) improper value for compatibility reasons.

Bugfixes:
(c) Fixed several compiler issues on the OSF1-architectures in
    'Makefile.OSF1' (now enforcing std.C which in turn enables
    useful warnings), 'statistics_chain.c' (pow -> SQR), 'imd.c'
    and 'mmm2d.c'.
(b) Fixed wrong parsing of chain structure info if given in addition
    to one of the analyze-commands in 'statistics_chain.c', e.g.
    'analyze re [<chain_start> <n_chains> <chain_length>]'; now,
    supplying the optional parameters will no longer result in the
    (unfounded) error message 'only chain structure info required'.
(a) Fixed severe bug in 'add_bonded_virials' which caused the bonded
    component of the pressure to be derived falsely. This error was
    introduced with the new system structure in v1.5.Alpha, so all
    pressure results produced with that or later versions should be
    re-derived; however, the actual simulation -as long as it's script
    did not depend on the pressure results- was not affected by this.
    Due to the internal storage policy of ESPResSo (forces are rescaled
    by 0.5*timestep^2) the deviation to the true bonded pressure scales
    with the timestep: As smaller it was as less noticable this error
    should have been in your simulations.


- v1.5.6d -
-----------

(d) March 19th, 2004.
(c) March 18th, 2004.
(b) March 17th, 2004.
(a) March  5th, 2004.

New Features: 
(d) Added a new analysis command [analyze modes2d] which is designed
    to allow a fluctuation analysis of a lipid membrane system.  This
    command is currently restricted to a special type of membrane
    configuration.  A more generalized command and related tcl scripts for
    processing the results will be added later.

Changes:
(b) [analyze bond_l] now returns a four member list with the average, standard deviation, 
    maximum value and minumum value of the sample; the same holds true for 
    [analyze <bond_l>], however, note that now it returns the maximum/minimum 
    in all the configurations and the values don't have to belong to same chain. 
    It was done this way to ensure uniformity. The testsuite has been adapted to this.
(b) In statistics_chain.c, the bond length calculations have been modified. It 
    actually calculates the average now (not the root mean square avg as was done 
    before); the error is taken as one standard deviation.

Bugfixes:
(c) Falsely calling 'analyze nbhood' without any arguments no longer unintentionally
    crashes the program but returns an appropriate error message instead.
(a) Added nptiso-thermostat random noise to 2nd propagation of the velocities as well.
(a) Fixed wrongly scaled prefactors of the nptiso-thermostat which do now remember
    to include an additional 'time_step' for the propagated velocities.


- v1.5.5b -
-----------

(b) March 2nd, 2004.
(a) March 1st, 2004.

New Features:
(b) Introduced new structure 'nptiso' in which all global variables
    related to the NpT-integration-scheme are contained.
(b) Now 'integrate' returns integrator informations, too, as well as
    'thermostat set <what>' may be used instead of 'thermostat <what>.

Changes:
(b) P3M is now entirely scaling invariant, replacing 'alpha' and 'r_cut'
    by rescaled 'alpha_L' and 'r_cut_iL'; for performance reasons the
    forces- and energy-derivation is still using the unscaled versions,
    so are the I/O-routines.
(b) Exchanged virial criterion 'if(piston!=0.0)' by test for 'integ_switch'
    in all functions deriving forces; should result in a speed-up if compiled in.
(a) Replaced p3m.alpha and p3m.r_cut with rescaled versions p3m.alpha_L and p3m.r_cut_iL
    which renders the p3m-algorithm to be independent of box_l.
    The old alpha and r_cut do still exist, mainly for I/O- and speed-purposes
    (since the forces- and energy-routine in p3m.h use both).

Bugfixes:
(b) Fixed wrong and/or missing safety checks for nptiso-integrator.
(b) Fixed handling of missing exceptions in 'thermostat set'.


- v1.5.4b -
-----------

(b) February 25th, 2004.
(a) February 20th, 2004.

New Features:
(b) Extension of the tcl command integrate. "integrate" is now 
    also used to set the integration method and parameters of 
    this methods. The general parameters <time_step> and <skin> 
    remained at the 'setmd' command. The usage of integrate is now:
        integrate <INT n steps>
	integrate set
	integrate set nvt
	integrate set npt_isotropic <DOUBLE p_ext> [<DOUBLE piston>]
(a) New tcl command: thermostat to control the new thermostats:
    Usage: thermostat langevin <temperature> <langevin_gamma>
           thermostat dpd <temperature> <dpd_gamma> <dpd_r_cut> 
           thermostat npt_isotropic <temperature> <nptiso_gamma0> <nptiso_gammav>
           thermostat off
	   thermostat
    Notes: - You can combine different thermostats.
           - At the moment they share a single temperature (if you are aware 
	     of any problems where one would need different temperatures, 
	     please let us know).
	   - thermostat off turns all thermostats off and sets all 
	     thermostat parameters to zero.
           - For NVE ensemble use thermostat off.
	   - DO NOT USE setmd temperature AND setmd gamma (:= langevin_gamma) 
	     IN NEW SCRIPTS! (even though they still work).
	   - For backwards compatibility ESPResSo starts with the 
	     Langevin thermostat turned on.


- v1.5.3a -
-----------

(a) February 14th, 2004.

New Features:
(a) Implemented an (N,p,T)-ensemble integrator, as published by
    Kolb, Duenweg, J.Chem.Phys. 111(8) 4453 (1999).
    To activate it, use the corresponding compiler-flag in 'config.h'
    and set the new parameters 'piston', 'g0', 'gv', and 'p_ext'.
(a) New global variable 'p_inst' returns the measure instantaneous pressure
    if (N,p,T)-integration is used.


- v1.5.2a -
-----------

(a) February  9th, 2004.

New Features:
(a) introducing topoplogy concept.

Changes:
(a) 'analyze set chains <start> <N_P> <MPC>' does now set the topology,
    hence 'analyze set chains' has been discontinued.

Bugfixes:
(a) fixed severe bug that had the p3m tuning routine to not allocate
    the appropriate amount of memory for the final parameter set, but
    used the last trial's settings instead.


- v1.5.1b -
-----------

(b) February  6th, 2004.
(a) January  30th, 2004.

New Features:
(b) Inplementation of NEMD (Non Equilibrium Molecular Dynamics). This method
    introduces a shear rate corresponding to a Couette flow by artificially
    pumping energy into the system via a momentum exchange between two slabs
    of the system. For more information see for example Evans/Morriss:
    Statistical mechanics of Nonequilibrium Liwuids (Academic Press, London,
    1990) or Soddemann/Duenweg/Kremer (Phys. Rev. E; 68; 2003).
    All procedures reside in the fiiles nemd.c/h. 
    Usage of the new tcl command nemd:
         nemd - returning nemd status
	 nemd off - turn off nemd
         nemd <n_slabs> <n_exchange>
	 nemd exchange <INT n_slabs> <INT n_exchange>
              - enable method exchange momentum 
	 nemd shearrate <INT n_slabs> <DOUBLE shearrate>
              - enable method with fixed shear rate
	 nemd profile - return the velocity profile
	 nemd viscosity - return the viscosity
    Notes: - The slabs are oriented perpendicualr to the z direction.
           - The shear is applied in x direction
           - Use only with a DPD thermostat or in an NVE ensemble.
           - Do not use other special features like part fix or 
	     constraints inside the top and middle slab.
	   - Per default NEMD is not compiled in.
(a) The bond angle potential can now be used also for equilibrium angles different
    from 180 degree (stretched configuration). This should not affect any previous
    simulations (except numerical errors). The default potential form is now:
    V = k (1+cos(phi+phi0)).
(a) With help of compiler flags used as switch you can now choose between three
    different potential forms (the corresponding #define statements are as usual
    in config.h):
    BOND_ANGLE_HARMONIC   ->  V = 1/2 k (phi - phi0)^2
    BOND_ANGLE_COSINE     ->  V = k (1+cos(phi-phi0))
    BOND_ANGLE_COSSQUARE  ->  V = 1/2 k (cos(phi)-cos(phi0))^2



**********************
* v1.5.Beta (Neelix) *
**********************

Released on January 29th, 2004.


- v1.5.Alpha -
--------------

(b) January 15th, 2004.
(a) January  7th, 2004.

New Features: 
(a) new command 'cellsystem { domain | nsquare }' to choose the internal particle structure.
(a) comfixed interaction is implemented. This interaction fixes the center of mass 
    of all particles of a given type.
(a) comforce interaction is implemented. This interaction is used to apply a force 
    on two differenent types of particles. The force is applied either along the
    major axis of type_1 particles (e.g. bundle of rods), or perpendicular to the 
    major axis of type_1 particles in the direction of the vector joining center
    of mass's of type_1 and type_2.

Changes:
(b) 'analyze pressure ideal' does no longer use n_total_particles*temperature/volume but rather
    measures the particles' velocities to deduct the ideal gas contribution to the pressure
    from there; consequently, its value is at last the very same as the trace of p_IK1;
    note however, that the ideal gas now depends on whether or not ROTATION is compiled in
    (changing the degrees of freedom from 3 to 6), even if the particles don't use that property
(b) 'checkpoint_set' now also saves informations on external forces, fixed particles, and
    rotational properties if the corresponding flags are compiled in.
(a) completely reworked the internal particle structure, now having six substructures per particle
    and a choice of two entirely different particle administration systems (domain decomposition
    or homogeneous N^2-mode)

Bugfixes:
(b) fixed several memory leaks occuring when using newer version of the gcc-compiler
(b) fixed wrong prefactor of 'analyze pressure ideal' contained in early versions of v1.5.Alpha
(a) 'part fix' fixed
(a) the constraint energy is printed correctly now. In the old version, if 
    the constraint particle type is smaller than any real particle type, 
    the constraint energy was wrong, even though the total energy was correct
 


***********
* v1.1.2  *
***********

Released on December 19th, 2003.


- v1.1.2a -
-----------

New Features: 
(a) working version of tabulated lookup potentials is
    now implemented.  Be sure to check documentation as file format
    requirements are likely to change with new versions.

Changes:
(-) none

Bugfixes:
(a) 'part <ind> delete' now correctly deletes all bonds involved



***********
* v1.1.1  *
***********

Released on December 2nd, 2003.


- v1.1.0e -
-----------

(e) December 2nd, 2003.
(d) November 18th, 2003.
(c) November 13th, 2003.
(b) November 11th, 2003.
(a) November 3rd, 2003.

New Features:
(e) command 'constraint maze' to create a constraint with a maze-like structure,
    i.e. spheres connected by cylinders 
(d) command 'imd positions' has new optional flag '-fold_chains'
(c) command 'part fix' has new optional parameters, i.e. 'part fix [<x> <y> <z>]'
(b) command 'analyze p_IK1' replacing 'analyze p_bin'
(a) command 'analyze p_bin' to derive the pressure tensor of a given particle list
(a) command 'analyze bin' to create a particle list distributed into spherical bins

Changes:
(-) none

Bugfixes:
(e) fixed 'tuning.c' on Darwin-systems (e.g. MacOS)
(e) fixed that 'communication.c' would not compile without electrostatics-flag on
(b) fixed implementation of 'analyze p_bin' to correspond to Kirkwood's IK1-scheme
(a) fixed that 'analyze <g1>' and 'analyze <g2>' derived all of <g1>, <g2>, and <g3>
    and always returned <g3> only



*********************
* v1.1.Gold (Naomi) *
*********************

Released on October 20th, 2003.



*******************
* v1.0.Gold (Kim) *
*******************

Released on April 25th, 2003.

